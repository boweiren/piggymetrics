serviceMetaInfo:
  host: http://notification-service
  port: 8000
  serviceAppName: notification-service # spring.application.name
  contextPath: /notifications

springConfig:
  security:
    oauth2:
      resource:
        user-info-uri: http://auth-service:5000/uaa/users/current

restapis:
  '/recipients/current':
    GET: 
      method: '<com.piggymetrics.notification.controller.RecipientController: com.piggymetrics.notification.domain.Recipient getCurrentNotificationsSettings(java.security.Principle)>'
      # security: 
      parameters:
        principal:
          in: body
          type: java.security.Principal
      response:
        '200': 
          description: 'OK'
          data: 
            object: 'com.piggymetrics.notification.domain.Recipient'
        '401':
          description: 'Unauthorized'
        '403':
          description: 'Forbidden'
        '404':
          description: 'Not Found'

    PUT:
      method: '<com.piggymetrics.notification.controller.RecipientController: com.piggymetrics.notification.domain.Recipient saveCurrentNotificationsSettings(java.security.Principle, com.piggymetrics.notification.domain.Recipient)>'
      # security:
      parameters:
        principal:
          in: body
          type: java.security.Principal
        recipient:
          in: body
          type: Recipient
      response:
        '200':
          description: 'OK'
          data:
            object: 'com.piggymetrics.notification.domain.Recipient'
        '401':
          description: 'Unauthorized'
        '403':
          description: 'Forbidden'
        '404':
          description: 'Not Found'

calls:
  'com.piggymetrics.notification.client.AccountServiceClient: com.piggymetrics.account.domain.Account getAccountByName(java.lang.String)>':
    serviceName: 'account-service'
    endpoint: '/accounts/{accountName}'
    httpMethod: GET
    parameters:
      name:
        in: path
        type: java.lang.String
        # security: