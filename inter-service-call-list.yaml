interServiceCalls:
  '<com.piggymetrics.account.client.StatisticsServiceClient: java.util.List getStatisticsByAccountName(java.lang.String)>':
    caller: '<com.piggymetrics.account.service.AccountService: void saveChanges(java.lang.String, com.piggymetrics.account.domain.Account)>'
    serviceName: 'statistics-service'
    endpoint: '/statistics/{accountName}'
    httpMethod: GET
    parameters:
      accountName:
        in: path
        type: java.lang.String
    security:
      - oauth2.hasScope('server')
      - name.equals('demo')
    fallback method: '<com.piggymetrics.account.client.StatisticsServiceClientFallback void updateStatistics(java.lang.String, com.piggymetrics.account.domain.Account)>'

  '<com.piggymetrics.account.client.AuthServiceClient: void createUser(com.piggymetrics.account.domain.User)>':
    caller: '<com.piggymetrics.account.service.AccountService: com.piggymetrics.account.domain.Account create(com.piggymetrics.account.domain.User)>'
    serviceName: 'auth-service'
    endpoint: '/uaa/users'
    httpMethod: POST
    parameters:
      user:
        in: body
        type: com.piggymetrics.account.domain.User
    security:
      - oauth2.hasScope('server')
      - @Valid
    # fallback method:

  'com.piggymetrics.notification.client.AccountServiceClient: com.piggymetrics.account.domain.Account getAccountByName(java.lang.String)>':
    caller: inactive
    serviceName: 'account-service'
    endpoint: '/accounts/{accountName}'
    httpMethod: GET
    parameters:
      name:
        in: path
        type: java.lang.String
    security:
      - oauth2.hasScope('server')
      - name.equals('demo')
      - Assert.hasLength(accountName)
    # fallback method:
